<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Creates a plot identifying the most salient words from a reference text compared to other texts in a corpus."><title>Identify salient keywords in reference texts. — plotKeyness • tenet</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Identify salient keywords in reference texts. — plotKeyness"><meta property="og:description" content="Creates a plot identifying the most salient words from a reference text compared to other texts in a corpus."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tenet</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/tagging_texts.html">Computer-Assisted Text Tagging</a>
    <a class="dropdown-item" href="../articles/text_and_time.html">Text and Time</a>
    <a class="dropdown-item" href="../articles/text_as_network.html">Texts as Networks</a>
    <a class="dropdown-item" href="../articles/text_scanning.html">Scanning for Words and Themes</a>
    <a class="dropdown-item" href="../articles/thematic_coding.html">Tools for Thematic Coding</a>
    <a class="dropdown-item" href="../articles/visualizing_text.html">Visualizing Textual Data</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Identify salient keywords in reference texts.</h1>
      
      <div class="d-none name"><code>plotKeyness.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Creates a plot identifying the most salient words from a reference text compared to other texts in a corpus.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plotKeyness</span><span class="op">(</span><span class="va">corpus</span>,</span>
<span>            group.var<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>            <span class="va">ref.cat</span>,</span>
<span>            p.value<span class="op">=</span><span class="fl">0.01</span>,</span>
<span>            type<span class="op">=</span><span class="st">"chi2"</span>,</span>
<span>            palette<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"red3"</span>,<span class="st">"goldenrod1"</span>,<span class="st">"dodgerblue3"</span><span class="op">)</span>,</span>
<span>            remove.punct<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>            remove.number<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>            remove.stopwords<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>            use.stem<span class="op">=</span><span class="cn">FALSE</span>,</span>
<span>            use.bigrams<span class="op">=</span><span class="cn">FALSE</span>,</span>
<span>            label.dots<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>            gray.area<span class="op">=</span><span class="fl">0</span>,</span>
<span>            exclude.zeros<span class="op">=</span><span class="cn">FALSE</span>,</span>
<span>            lang<span class="op">=</span><span class="st">"es"</span>,</span>
<span>            title<span class="op">=</span><span class="st">"Chi-Square vs. Log Frequency"</span>,</span>
<span>            title.text.size<span class="op">=</span><span class="fl">14</span>,</span>
<span>            interactive<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>            return.data<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>corpus</dt>
<dd><p>A quanteda corpus object with the texts to analyze.</p></dd>

  
  <dt>group.var</dt>
<dd><p>A character vector with the name of the grouping variable in the corpus (in the case that the corpus is not already grouped).</p></dd>


  <dt>ref.cat</dt>
<dd><p>A character string with the name of the reference category (one of the values of the grouping variable).</p></dd>

  
  <dt>p.value</dt>
<dd><p>A numeric value with the significance level for the chi-square test. The default is 0.01 (99% confidence).</p></dd>

  
  <dt>type</dt>
<dd><p>A character string with the type of test to use. Options are "chi2" for the chi-square test, "lr" for likelyhood ratio, and "log" for the log-odds ratio of the chi2 results. The default is "chi2"</p></dd>


  <dt>palette</dt>
<dd><p>A character vector with the colors to use in the plot. The first color is for the reference category, the second for the other categories, and the third for the gray area. The default colors are "red3","goldenrod1", and "dodgerblue3".</p></dd>

  
  <dt>remove.punct</dt>
<dd><p>A logical value indicating if punctuation marks should be removed from the texts. The default is TRUE.</p></dd>

  
  <dt>remove.number</dt>
<dd><p>A logical value indicating if numbers should be removed from the texts. The default is TRUE.</p></dd>

  
  <dt>remove.stopwords</dt>
<dd><p>A logical value indicating if stopwords should be removed from the texts. The default is TRUE.</p></dd>

  
  <dt>use.stem</dt>
<dd><p>A logical value indicating if the texts should be stemmed. The default is FALSE.</p></dd>

  
  <dt>use.bigrams</dt>
<dd><p>A logical value indicating if bigrams should be used in the analysis. The default is FALSE.</p></dd>

  
  <dt>label.dots</dt>
<dd><p>A logical value indicating if the words should be labeled in the plot. The default is TRUE.</p></dd>

  
  <dt>gray.area</dt>
<dd><p>A numeric value indicating the value for establishing the bandwidth of the gray area in the plot. The default is 0 (no gray area).</p></dd>

  
  <dt>exclude.zeros</dt>
<dd><p>A logical value indicating if words with zero frequency in the reference category should be excluded from the analysis. The default is FALSE.</p></dd>

  
  <dt>lang</dt>
<dd><p>A character string with the language of the texts. The default is "es" (Spanish).</p></dd>

  
  <dt>title</dt>
<dd><p>A character string with the title of the plot. The default is "Chi-Square vs. Log Frequency".</p></dd>

  
  <dt>title.text.size</dt>
<dd><p>A numeric value with the size of the title text. The default is 14.</p></dd>

  
  <dt>interactive</dt>
<dd><p>A logical value indicating if the plot should be interactive. The default is TRUE.</p></dd>

  
  <dt>return.data</dt>
<dd><p>A logical value indicating if the data used to create the plot should be returned. The default is FALSE.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function employs the function textstat.keyness from the quanteda packages to calculate the salience of the words from a reference text compared to others and plot it against the log frequency of the term in the corpus scaled as a 0-1 interval. Therefore, the more distant from zero in both axes, the more salient the term is in the reference text. Terms above zero are particularly employed in the reference text while those below zero are absent in a greater degree when their prevalence is compared to other texts in the corpus.</p>
    </div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A ggplot2 compatible scatter plot representing the scaled log frequency of a term in X-axis and the selected statistics in the Y-axis or a data.frame object containing the statistics.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Selects the session no. 124 of the Spanish parliament</span></span></span>
<span class="r-in"><span><span class="co"># discussing the law againgst sexual violence.</span></span></span>
<span class="r-in"><span><span class="va">spa</span> <span class="op">&lt;-</span> <span class="va">spa.sessions</span><span class="op">[</span><span class="va">spa.sessions</span><span class="op">$</span><span class="va">session.number</span><span class="op">==</span><span class="fl">124</span>,<span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Aggregate Spanish parliamentary speeches</span></span></span>
<span class="r-in"><span><span class="co"># by party</span></span></span>
<span class="r-in"><span><span class="va">re</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/aggregate.html" class="external-link">aggregate</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>text<span class="op">=</span><span class="va">spa</span><span class="op">$</span><span class="va">speech.text</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>                by<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>rep.party<span class="op">=</span><span class="va">spa</span><span class="op">$</span><span class="va">rep.party</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                FUN<span class="op">=</span><span class="va">paste</span>, </span></span>
<span class="r-in"><span>                collapse<span class="op">=</span><span class="st">"\n"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create a corpus object with the speeches</span></span></span>
<span class="r-in"><span><span class="va">cp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://quanteda.io/reference/corpus.html" class="external-link">corpus</a></span><span class="op">(</span><span class="va">re</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Group the corpus by party</span></span></span>
<span class="r-in"><span><span class="va">ci</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://quanteda.io/reference/corpus_group.html" class="external-link">corpus_group</a></span><span class="op">(</span><span class="va">cp</span>, groups <span class="op">=</span> <span class="va">rep.party</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Plot the keyness (log-odds ratio) of the words </span></span></span>
<span class="r-in"><span><span class="co"># in the speeches</span></span></span>
<span class="r-in"><span><span class="fu">plotKeyness</span><span class="op">(</span>corpus <span class="op">=</span> <span class="va">ci</span>,</span></span>
<span class="r-in"><span>            type <span class="op">=</span> <span class="st">"log"</span>, </span></span>
<span class="r-in"><span>            ref.cat <span class="op">=</span> <span class="st">"Podemos"</span>, </span></span>
<span class="r-in"><span>            title <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Rodrigo Rodrigues-Silveira.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

