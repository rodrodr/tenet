<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="The plotLogOddsRatio function generates a weighted log odds ratio vs. log frequency plot to visualize the relationship between log odds ratios and log frequencies of tokens in a text corpus. This function uses the quanteda package for text processing and ggplot2 for plotting. It is particularly useful for analyzing the significance of token frequencies in different categories or documents within the corpus."><title>Generate a Weighted Log Odds Ratio vs. Log Frequency Plot — plotLogOddsRatio • tenet</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate a Weighted Log Odds Ratio vs. Log Frequency Plot — plotLogOddsRatio"><meta property="og:description" content="The plotLogOddsRatio function generates a weighted log odds ratio vs. log frequency plot to visualize the relationship between log odds ratios and log frequencies of tokens in a text corpus. This function uses the quanteda package for text processing and ggplot2 for plotting. It is particularly useful for analyzing the significance of token frequencies in different categories or documents within the corpus."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tenet</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/tagging_texts.html">Computer-Assisted Text Tagging</a>
    <a class="dropdown-item" href="../articles/text_and_time.html">Text and Time</a>
    <a class="dropdown-item" href="../articles/text_as_network.html">Texts as Networks</a>
    <a class="dropdown-item" href="../articles/text_scanning.html">Scanning for Words and Themes</a>
    <a class="dropdown-item" href="../articles/thematic_coding.html">Tools for Thematic Coding</a>
    <a class="dropdown-item" href="../articles/visualizing_text.html">Visualizing Textual Data</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Generate a Weighted Log Odds Ratio vs. Log Frequency Plot</h1>
      
      <div class="d-none name"><code>plotLogOddsRatio.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <code>plotLogOddsRatio</code> function generates a weighted log odds ratio vs. log frequency plot to visualize the relationship between log odds ratios and log frequencies of tokens in a text corpus. This function uses the quanteda package for text processing and ggplot2 for plotting. It is particularly useful for analyzing the significance of token frequencies in different categories or documents within the corpus.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plotLogOddsRatio</span><span class="op">(</span></span>
<span>    <span class="va">corpus</span>,</span>
<span>    <span class="va">ref.cat</span>,</span>
<span>    comp.cat <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    palette <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"red3"</span>, <span class="st">"goldenrod1"</span>, <span class="st">"dodgerblue3"</span><span class="op">)</span>,</span>
<span>    remove.punct <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    remove.number <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    remove.stopwords <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    use.stem <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    use.bigrams <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    label.dots <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    gray.area <span class="op">=</span> <span class="fl">0</span>,</span>
<span>    exclude.zeros <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    lang <span class="op">=</span> <span class="st">"es"</span>,</span>
<span>    title <span class="op">=</span> <span class="st">"Weighted log odds ratio vs. Log Frequency"</span>,</span>
<span>    title.text.size <span class="op">=</span> <span class="fl">14</span>,</span>
<span>    interactive <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    return.data <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>corpus</dt>
<dd><p>A text corpus.</p></dd>

  <dt>ref.cat</dt>
<dd><p>A category or document ID used as the reference category for log odds ratio calculations.</p></dd>

  <dt>comp.cat</dt>
<dd><p>A vector of category or document IDs for comparison (default: NULL).</p></dd>

  <dt>palette</dt>
<dd><p>A vector of color codes specifying the node colors (default: a palette of three colors).</p></dd>

  <dt>remove.punct</dt>
<dd><p>A logical value indicating whether to remove punctuation from tokens (default: TRUE).</p></dd>

  <dt>remove.number</dt>
<dd><p>A logical value indicating whether to remove numbers from tokens (default: TRUE).</p></dd>

  <dt>remove.stopwords</dt>
<dd><p>A logical value indicating whether to remove stopwords from tokens (default: TRUE).</p></dd>

  <dt>use.stem</dt>
<dd><p>A logical value indicating whether to apply stemming to tokens (default: FALSE).</p></dd>

  <dt>use.bigrams</dt>
<dd><p>A logical value indicating whether to consider bigrams in tokenization (default: FALSE).</p></dd>

  <dt>label.dots</dt>
<dd><p>A logical value indicating whether to label data points with token names (default: TRUE).</p></dd>

  <dt>gray.area</dt>
<dd><p>A numeric value specifying the threshold for the gray area in log odds ratio (default: 0).</p></dd>

  <dt>exclude.zeros</dt>
<dd><p>A logical value indicating whether to exclude tokens with zero frequency (default: FALSE).</p></dd>

  <dt>lang</dt>
<dd><p>A character specifying the language for text processing (default: "es" for Spanish).</p></dd>

  <dt>title</dt>
<dd><p>A character specifying the plot title (default: "Weighted log odds ratio vs. Log Frequency").</p></dd>

  <dt>title.text.size</dt>
<dd><p>An integer specifying the size of the plot title text (default: 14).</p></dd>

  <dt>interactive</dt>
<dd><p>A logical value indicating whether to generate an interactive plot (default: TRUE).</p></dd>

  <dt>return.data</dt>
<dd><p>A logical value indicating whether to return the data used for plotting (default: FALSE).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The <code>plotLogOddsRatio</code> function tokenizes the text corpus, processes tokens based on the specified options (e.g., removing punctuation, stopwords, stemming), calculates log odds ratios, and plots the log odds ratios against log frequencies. Tokens are colored based on their log odds ratios, and a gray area can be specified to highlight significant tokens. The plot can be interactive, allowing for tooltips and data exploration.</p>
    </div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>The function returns either a ggiraph interactive plot (if <code>interactive</code> is TRUE) or a ggplot2 plot (if <code>interactive</code> is FALSE). When <code>return.data</code> is TRUE, it returns a data frame containing the plotted data.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span>  <span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="co"># Example usage:</span></span></span>
<span class="r-in"><span>    <span class="co"># Load required libraries</span></span></span>
<span class="r-in"><span>    <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://quanteda.io" class="external-link">quanteda</a></span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rodrodr.github.io/tenet/">tenet</a></span><span class="op">)</span></span></span>
<span class="r-in"><span>    </span></span>
<span class="r-in"><span>    <span class="co"># Creates a corpus of inaugural speeches</span></span></span>
<span class="r-in"><span>    <span class="va">cp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://quanteda.io/reference/corpus.html" class="external-link">corpus</a></span><span class="op">(</span><span class="va">spa.inaugural</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    <span class="co"># Group documents by President</span></span></span>
<span class="r-in"><span>    <span class="va">ci</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://quanteda.io/reference/corpus_group.html" class="external-link">corpus_group</a></span><span class="op">(</span><span class="va">cp</span>, groups <span class="op">=</span> <span class="va">President</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    <span class="co"># Creates the plot</span></span></span>
<span class="r-in"><span>    <span class="fu">plotLogOddsRatio</span><span class="op">(</span> corpus <span class="op">=</span> <span class="va">ci</span>, </span></span>
<span class="r-in"><span>                      ref.cat <span class="op">=</span> <span class="st">"Zapatero"</span><span class="op">)</span>                </span></span>
<span class="r-in"><span>  <span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Rodrigo Rodrigues-Silveira.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

